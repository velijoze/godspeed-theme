{%- comment -%}
  Godspeed: Why Page Hero Section
  - Desktop + Mobile image support
  - Left/center/right + top/middle/bottom alignment
  - Adjustable content max-width and offsets
  - Overlay for readability
  - Responsive, typography uses theme variables
{%- endcomment -%}

<div data-section-id="{{ section.id }}" data-section-type="gs-hero-why" class="gs-hero-why">
  <div class="hero-media">
    {% if section.settings.image_desktop %}
      <img class="hero-img desktop" src="{{ section.settings.image_desktop | img_url: '1940x' }}" alt="{{ section.settings.alt | escape }}">
    {% endif %}
    {% if section.settings.image_mobile %}
      <img class="hero-img mobile" src="{{ section.settings.image_mobile | img_url: '900x' }}" alt="{{ section.settings.alt | escape }}">
    {% endif %}
  </div>

  <div class="hero-overlay"></div>

  <div class="hero-content pos-{{ section.settings.h_align }} posv-{{ section.settings.v_align }}" style="padding: {{ section.settings.pad_y }}px {{ section.settings.pad_x }}px;">
    <div class="inner" style="max-width: {{ section.settings.content_max }}px;">
      {% if section.settings.eyebrow != blank %}
        <div class="eyebrow">{{ section.settings.eyebrow }}</div>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h2 class="heading">{{ section.settings.heading }}</h2>
      {% endif %}
      {% if section.settings.body != blank %}
        <div class="body rte">{{ section.settings.body }}</div>
      {% endif %}
      {% if section.settings.btn_label != blank and section.settings.btn_url != blank %}
        <a class="btn btn-hero" href="{{ section.settings.btn_url }}">{{ section.settings.btn_label }}</a>
      {% endif %}
    </div>
  </div>
</div>

<style>
  .gs-hero-why { position: relative; overflow: hidden; }
  .gs-hero-why .hero-media { position: relative; height: clamp(360px, 60vh, 720px); }
  .gs-hero-why .hero-img { width: 100%; height: 100%; object-fit: cover; object-position: center; display: none; }
  .gs-hero-why .hero-img.desktop { display: block; }
  .gs-hero-why .hero-img.mobile { display: none; }

  .gs-hero-why .hero-overlay { position: absolute; inset: 0; pointer-events: none; background: {{ section.settings.overlay_color }}; opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }}; }

  .gs-hero-why .hero-content { position: absolute; inset: 0; display: flex; }
  .gs-hero-why .hero-content.pos-left { justify-content: flex-start; }
  .gs-hero-why .hero-content.pos-center { justify-content: center; }
  .gs-hero-why .hero-content.pos-right { justify-content: flex-end; }

  .gs-hero-why .hero-content.posv-top { align-items: flex-start; }
  .gs-hero-why .hero-content.posv-middle { align-items: center; }
  .gs-hero-why .hero-content.posv-bottom { align-items: flex-end; }

  .gs-hero-why .inner { color: {{ section.settings.text_color }}; }
  .gs-hero-why .eyebrow { 
    font-family: var(--font-heading);
    font-size: clamp(12px, 1.2vw, 14px);
    letter-spacing: {{ section.settings.eyebrow_tracking }}em;
    text-transform: {{ section.settings.eyebrow_uppercase | default: true | if: 'uppercase','none' }};
    margin-bottom: 8px;
    opacity: .9; 
  }
  .gs-hero-why .heading { 
    font-family: var(--font-heading);
    font-size: clamp(20px, 2.2vw, 28px);
    line-height: 1.2;
    margin: 0 0 8px 0; 
  }
  .gs-hero-why .body { 
    font-family: var(--font-body);
    font-size: clamp(14px, 1.2vw, 16px);
    line-height: 1.6;
    max-width: 60ch; 
  }
  .gs-hero-why .btn-hero {
    margin-top: 16px;
    display: inline-block;
    padding: 12px 28px;
    border-radius: 999px;
    background: {{ settings.color_main2 }};
    border: 2px solid {{ settings.color_main2 }};
    color: #fff; text-decoration: none;
    font-weight: 600; letter-spacing: .06em; text-transform: uppercase;
    transition: all .2s ease;
  }
  .gs-hero-why .btn-hero:hover { 
    background: {{ settings.color_main2 | color_darken: 10 }};
    border-color: {{ settings.color_main2 | color_darken: 10 }}; 
    transform: translateY(-1px);
  }

  @media (max-width: 991px) {
    .gs-hero-why .hero-img.desktop { display: none; }
    .gs-hero-why .hero-img.mobile { display: block; }
    .gs-hero-why .hero-media { height: clamp(360px, 55vh, 560px); }
    .gs-hero-why .hero-content { padding: {{ section.settings.pad_y_mb }}px {{ section.settings.pad_x_mb }}px !important; }
    .gs-hero-why .hero-content.pos-left { justify-content: flex-start; }
  }
</style>

{% schema %}
{
  "name": "GS - Why Hero",
  "settings": [
    { "type": "image_picker", "id": "image_desktop", "label": "Desktop image" },
    { "type": "image_picker", "id": "image_mobile", "label": "Mobile image" },
    { "type": "text", "id": "alt", "label": "Alt text" },

    { "type": "text", "id": "eyebrow", "label": "Eyebrow (small heading)", "default": "OUR PHILOSOPHY: SUSTAINABLE & STYLISH MOBILITY" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "We believe in promoting the joy of moving sustainably and stylishly." },
    { "type": "textarea", "id": "body", "label": "Body text" },
    { "type": "text", "id": "btn_label", "label": "Button label" },
    { "type": "url", "id": "btn_url", "label": "Button link" },

    { "type": "select", "id": "h_align", "label": "Horizontal alignment", "default": "left", "options": [
      {"value":"left","label":"Left"}, {"value":"center","label":"Center"}, {"value":"right","label":"Right"}
    ]},
    { "type": "select", "id": "v_align", "label": "Vertical alignment", "default": "middle", "options": [
      {"value":"top","label":"Top"}, {"value":"middle","label":"Middle"}, {"value":"bottom","label":"Bottom"}
    ]},
    { "type": "range", "id": "content_max", "min": 320, "max": 900, "step": 10, "unit": "px", "label": "Max content width", "default": 560 },
    { "type": "range", "id": "pad_x", "min": 0, "max": 200, "step": 5, "unit": "px", "label": "Side padding (desktop)", "default": 40 },
    { "type": "range", "id": "pad_y", "min": 0, "max": 200, "step": 5, "unit": "px", "label": "Top/bottom padding (desktop)", "default": 40 },
    { "type": "range", "id": "pad_x_mb", "min": 0, "max": 40, "step": 2, "unit": "px", "label": "Side padding (mobile)", "default": 16 },
    { "type": "range", "id": "pad_y_mb", "min": 0, "max": 120, "step": 5, "unit": "px", "label": "Top/bottom padding (mobile)", "default": 24 },

    { "type": "color", "id": "text_color", "label": "Text color", "default": "#1c1c1c" },
    { "type": "color", "id": "overlay_color", "label": "Overlay color", "default": "#000000" },
    { "type": "range", "id": "overlay_opacity", "label": "Overlay opacity", "min": 0, "max": 70, "step": 5, "unit": "%", "default": 10 },
    { "type": "range", "id": "eyebrow_tracking", "label": "Eyebrow letter spacing (em)", "min": 0, "max": 0.4, "step": 0.02, "default": 0.26 },
    { "type": "checkbox", "id": "eyebrow_uppercase", "label": "Uppercase eyebrow", "default": true }
  ],
  "presets": [
    { "name": "GS - Why Hero" }
  ]
}
{% endschema %}

