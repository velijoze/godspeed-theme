<!-- /templates/page.liquid -->
<section class="page-header">
  <div class="container">
    <div class="pt-40 pb-20">
      <div class="wrap-bread-crumb">
        {% include 'breadcrumb' %}
      </div>
    </div>
  </div>
</section>

{% if section.settings.enable_hero %}
<section class="page-hero">
  <div class="hero-media">
    {% if section.settings.hero_image_desktop %}
      <img class="hero-img desktop" src="{{ section.settings.hero_image_desktop | img_url: '1940x' }}" alt="{{ section.settings.hero_alt | escape }}">
    {% endif %}
    {% if section.settings.hero_image_mobile %}
      <img class="hero-img mobile" src="{{ section.settings.hero_image_mobile | img_url: '900x' }}" alt="{{ section.settings.hero_alt | escape }}">
    {% endif %}
    <div class="hero-overlay" style="background: {{ section.settings.hero_overlay_color }}; opacity: {{ section.settings.hero_overlay_opacity | divided_by: 100.0 }};"></div>
  </div>
  <div class="hero-content pos-{{ section.settings.hero_h_align }} posv-{{ section.settings.hero_v_align }}" style="padding: {{ section.settings.hero_pad_y }}px {{ section.settings.hero_pad_x }}px;">
    <div class="inner" style="max-width: {{ section.settings.hero_content_max }}px; color: {{ section.settings.hero_text_color }};">
      <h1 class="page-title">{{ section.settings.hero_heading | default: page.title }}</h1>
      {% if section.settings.show_last_updated and page.updated_at %}
        <div class="page-meta">{{ section.settings.last_updated_label | default: 'Last updated' }} {{ page.updated_at | date: "%b %e, %Y" }}</div>
      {% endif %}
      {% if section.settings.hero_subtitle != blank %}
        <div class="page-excerpt">{{ section.settings.hero_subtitle }}</div>
      {% endif %}
    </div>
  </div>
</section>
{% else %}
<section class="page-title-section">
  <div class="container">
    <div class="page-title-wrapper">
      <div class="text-center">
        <h1 class="page-title">{{page.title}}</h1>
        {% if section.settings.show_last_updated and page.updated_at %}
          <div class="page-meta">{{ section.settings.last_updated_label | default: 'Last updated' }} {{ page.updated_at | date: "%b %e, %Y" }}</div>
        {% endif %}
        {% if page.excerpt != blank %}
        <div class="page-excerpt">{{page.excerpt}}</div>
        {% endif %}
      </div>
    </div>
  </div>
</section>
{% endif %}

<section class="page-content-section">
  <div class="container">
    <div class="page-content-wrapper">
      <div class="page-content">
        {{page.content}}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Main Page",
  "settings": [
    { "type": "header", "content": "Hero" },
    { "type": "checkbox", "id": "enable_hero", "label": "Enable slim hero", "default": false },
    { "type": "image_picker", "id": "hero_image_desktop", "label": "Hero image (desktop)" },
    { "type": "image_picker", "id": "hero_image_mobile", "label": "Hero image (mobile)" },
    { "type": "text", "id": "hero_alt", "label": "Hero alt text" },
    { "type": "text", "id": "hero_heading", "label": "Hero heading (defaults to page title)" },
    { "type": "textarea", "id": "hero_subtitle", "label": "Hero subtitle" },
    { "type": "select", "id": "hero_h_align", "label": "Horizontal alignment", "default": "center", "options": [
      {"value":"left","label":"Left"},{"value":"center","label":"Center"},{"value":"right","label":"Right"}
    ]},
    { "type": "select", "id": "hero_v_align", "label": "Vertical alignment", "default": "middle", "options": [
      {"value":"top","label":"Top"},{"value":"middle","label":"Middle"},{"value":"bottom","label":"Bottom"}
    ]},
    { "type": "range", "id": "hero_content_max", "min": 320, "max": 900, "step": 10, "unit": "px", "label": "Max content width", "default": 720 },
    { "type": "range", "id": "hero_pad_x", "min": 0, "max": 200, "step": 5, "unit": "px", "label": "Side padding (desktop)", "default": 20 },
    { "type": "range", "id": "hero_pad_y", "min": 0, "max": 200, "step": 5, "unit": "px", "label": "Top/bottom padding (desktop)", "default": 40 },
    { "type": "color", "id": "hero_text_color", "label": "Hero text color", "default": "#1c1c1c" },
    { "type": "color", "id": "hero_overlay_color", "label": "Overlay color", "default": "#000000" },
    { "type": "range", "id": "hero_overlay_opacity", "label": "Overlay opacity", "min": 0, "max": 70, "step": 5, "unit": "%", "default": 10 },
    { "type": "header", "content": "Metadata" },
    { "type": "checkbox", "id": "show_last_updated", "label": "Show last updated date", "default": true },
    { "type": "text", "id": "last_updated_label", "label": "Last updated label", "default": "Last updated" }
  ]
}
{% endschema %}

{% stylesheet %}
.page-header {
  background: #f8f9fa;
  border-bottom: 1px solid #e9ecef;
}

.page-title-section {
  padding: 40px 0 30px;
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border-bottom: 1px solid #e9ecef;
}

.page-hero { position: relative; overflow: hidden; }
.page-hero .hero-media { position: relative; height: clamp(280px, 45vh, 520px); }
.page-hero .hero-img { width: 100%; height: 100%; object-fit: cover; object-position: center; display: none; }
.page-hero .hero-img.desktop { display: block; }
.page-hero .hero-img.mobile { display: none; }
.page-hero .hero-overlay { position: absolute; inset: 0; pointer-events: none; }
.page-hero .hero-content { position: absolute; inset: 0; display: flex; }
.page-hero .hero-content.pos-left { justify-content: flex-start; }
.page-hero .hero-content.pos-center { justify-content: center; }
.page-hero .hero-content.pos-right { justify-content: flex-end; }
.page-hero .hero-content.posv-top { align-items: flex-start; }
.page-hero .hero-content.posv-middle { align-items: center; }
.page-hero .hero-content.posv-bottom { align-items: flex-end; }
.page-hero .page-title { font-family: var(--font-heading); margin: 0 0 6px 0; font-size: clamp(26px, 4vw, 44px); }
.page-meta { font-size: 0.9rem; color: #667; margin-bottom: 6px; }
@media (max-width: 991px){ .page-hero .hero-img.desktop { display:none } .page-hero .hero-img.mobile { display:block } }

.page-title-wrapper {
  max-width: 800px;
  margin: 0 auto;
}

.page-title {
  font-family: var(--font-heading);
  font-size: 2.5rem;
  font-weight: 700;
  color: #2c3e50;
  margin-bottom: 15px;
  line-height: 1.3;
}

.page-excerpt {
  font-size: 1.1rem;
  color: #6c757d;
  line-height: 1.4;
  margin-bottom: 0;
}

.page-content-section {
  padding: 50px 0 60px;
  background: #ffffff;
}

.page-content-wrapper {
  max-width: 1000px;
  margin: 0 auto;
}

.page-content {
  font-family: var(--font-body);
  font-size: 1rem;
  line-height: 1.6;
  color: #495057;
}

.page-content h1,
.page-content h2,
.page-content h3,
.page-content h4,
.page-content h5,
.page-content h6 {
  font-family: var(--font-heading);
  color: #2c3e50;
  font-weight: 600;
  margin-top: 30px;
  margin-bottom: 15px;
  line-height: 1.3;
}

.page-content h1 {
  font-size: 2.2rem;
  border-bottom: 2px solid #e9ecef;
  padding-bottom: 10px;
}

.page-content h2 {
  font-size: 1.8rem;
  margin-top: 40px;
}

.page-content h3 {
  font-size: 1.4rem;
  color: #34495e;
}

.page-content h4 {
  font-size: 1.2rem;
  color: #34495e;
}

.page-content p {
  margin-bottom: 16px;
  line-height: 1.6;
}

.page-content ul,
.page-content ol {
  margin-bottom: 20px;
  padding-left: 25px;
}

.page-content li {
  margin-bottom: 8px;
  line-height: 1.5;
}

.page-content blockquote {
  border-left: 4px solid {{ settings.color_main2 }};
  padding: 15px 20px;
  margin: 25px 0;
  background: #f8f9fa;
  font-style: italic;
  color: #6c757d;
}

.page-content table {
  width: 100%;
  border-collapse: collapse;
  margin: 25px 0;
  background: #ffffff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.page-content th,
.page-content td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #e9ecef;
}

.page-content th {
  background: #34495e;
  color: #ffffff;
  font-weight: 600;
  font-size: 0.9rem;
}

.page-content td {
  font-size: 0.9rem;
}

.page-content tr:hover {
  background: #f8f9fa;
}

.page-content a {
  color: {{ settings.color_main2 }};
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: all 0.2s ease;
}

.page-content a:hover {
  color: {{ settings.color_main2 | color_darken: 10 }};
  border-bottom-color: {{ settings.color_main2 }};
}

.page-content strong,
.page-content b {
  font-weight: 600;
  color: #2c3e50;
}

.page-content em,
.page-content i {
  font-style: italic;
}

.page-content code {
  background: #f8f9fa;
  padding: 2px 6px;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
  color: #e83e8c;
}

.page-content pre {
  background: #2c3e50;
  color: #ffffff;
  padding: 20px;
  border-radius: 6px;
  overflow-x: auto;
  margin: 20px 0;
}

.page-content pre code {
  background: transparent;
  color: inherit;
  padding: 0;
}

.page-content hr {
  border: none;
  height: 2px;
  background: linear-gradient(to right, {{ settings.color_main2 }}, {{ settings.color_main2 | color_darken: 12 }});
  margin: 40px 0;
  border-radius: 1px;
}

@media (max-width: 768px) {
  .page-title {
    font-size: 2rem;
  }
  
  .page-excerpt {
    font-size: 1rem;
  }
  
  .page-content-section {
    padding: 30px 0 40px;
  }
  
  .page-content {
    font-size: 0.95rem;
  }
  
  .page-content h1 {
    font-size: 1.8rem;
  }
  
  .page-content h2 {
    font-size: 1.5rem;
  }
  
  .page-content h3 {
    font-size: 1.3rem;
  }
  
  .page-content table {
    font-size: 0.85rem;
  }
  
  .page-content th,
  .page-content td {
    padding: 8px 10px;
  }
}
{% endstylesheet %}
